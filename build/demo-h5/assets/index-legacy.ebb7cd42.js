!function(){function t(n){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==e)return;var o,i,r=[],s=!0,l=!1;try{for(e=e.call(t);!(s=(o=e.next()).done)&&(r.push(o.value),!n||r.length!==n);s=!0);}catch(c){l=!0,i=c}finally{try{s||null==e.return||e.return()}finally{if(l)throw i}}return r}(t,n)||o(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=o(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return l=t.done,t},e:function(t){c=!0,s=t},f:function(){try{l||null==e.return||e.return()}finally{if(c)throw s}}}}function o(t,n){if(t){if("string"==typeof t)return i(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?i(t,n):void 0}}function i(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}var r=document.createElement("style");r.innerHTML="button{font-size:14px;margin:4px 6px}.envBox span{padding-left:6px;font-size:14;color:red}.buttonBox{float:left;clear:both;margin-bottom:10px}.buttonBox button{float:left;line-height:150%}body{font-size:12px}h1{margin:4px;padding:2px}.OutBox{overflow-y:scroll;width:90%;height:250px;border:dashed red;float:left;clear:both}.InBox{float:left;width:90%;height:80px;border:dashed rgb(0,255,85);clear:both}.InOutBox{margin-top:10px}.InOutBox div{clear:both;text-align:left;margin-top:10px}.pcConfig{clear:both;float:left;margin:10px 0;font-size:12px}.pcConfig input{width:60px;margin-right:2px;font-size:12px}#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;color:#2c3e50;margin-top:10px}\n",document.head.appendChild(r),System.register(["./vendor-legacy.d4966263.js"],(function(){"use strict";var o,i,r,s,l,c,a,u,g,d;return{setters:[function(t){o=t.L,i=t.o,r=t.a,s=t.c,l=t.b,c=t.F,a=t.d,u=t.r,g=t.e,d=t.f}],execute:function(){var f=function(t,o){var i,r=t.__vccOpts||t,s=e(o);try{for(s.s();!(i=s.n()).done;){var l=n(i.value,2),c=l[0],a=l[1];r[c]=a}}catch(u){s.e(u)}finally{s.f()}return r},p={name:"Link-Client",props:{msg:String},data:function(){return{count:10}},methods:{clear:function(){document.getElementById("msgOutput").innerHTML=""},showLog:function(n){"object"===t(n)&&(n=JSON.stringify(n));var e=new Date;n="["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"] "+n,console.log("log:",n);var o=document.getElementById("msgOutput");o.innerHTML=n+"<br>"+o.innerHTML},callBack:function(n){"object"===t(n)?this.showLog("[cb]"+JSON.stringify(n)):this.showLog("[cb]"+n)},_handle:function(n){"object"===t(n)?this.showLog("[back]"+JSON.stringify(n)):this.showLog("[back]"+n)},_handleSend:function(n){"object"===t(n)?this.showLog("[sendH]"+JSON.stringify(n)):this.showLog("[sendH]"+n)},start:function(t){console.log("start",t);var n=document.getElementById("inIP").value,e=parseInt(document.getElementById("inPort").value);this.client.init(n,e),this.client.setHandle(this._handle),this.client.channel.handleSend=this._handleSend,this.showLog("----start----")},close:function(t){console.log("close",t),this.client&&this.client.close()},refresh:function(){this.client&&(this.client.refresh(),this.client.setHandle(this._handle),this.client.channel.handleSend=this._handleSend)},cg_getVersion:function(){var t=this.client.getExtension("client-global");console.log("sv.version::",t.getVersion())},cg_init:function(){var t=this.client.getExtension("client-global").init("");console.log("sv.version::",t)},sg_getVersion:function(){var t=this.client.getService("service-global");console.log("sv.version::",t.getVersion())},sg_init:function(){var t=this.client.getService("service-global").init("");console.log("sv.version::",t)},sg_askAndAnswer:function(){var t=this.client.getService("service-global").askAndAnswer("liam",this.callBack);console.log("sv.askAndAnswer::",t)},sg_listen:function(){var t=this.client.getService("service-global").listen(this.callBack,3,10);console.log("sv.askAndAnswer::",t)},sg_close:function(){var t=this.client.getService("service-global").close();console.log("sv.close::",t)},dis_getMacAddress:function(){this.client.getService("discovery").getMacAddress()},dis_getNetList:function(){this.client.getService("discovery").getNetList()},sendButton:function(){var t=document.getElementById("msgInput").value;this.sendData(JSON.parse(t))},sendData:function(t){var n=t,e=this.client.channel.send(n.method,n.params,n.service,n.id);console.log("result::",e)}},setup:function(){console.log("-------------------------setup:");var t=new o(!1),n=document.getElementById("msgInput"),e=document.getElementById("msgOutput");return i((function(){console.log("run:onMounted link-client")})),{message:"hello aa!",client:t,db:{},inputMsg:n,outMsg:e}}},h=l("h1",null,"link-client-test-demo",-1),v=l("div",{class:"envBox"},null,-1),b={class:"buttonBox"},m=l("div",{class:"pcConfig"},[a(" 平台: "),l("input",{id:"inPlatform",value:"auto"}),a(" pcIp: "),l("input",{id:"inIP",value:"localhost"}),a(" port: "),l("input",{id:"inPort",value:"52384"})],-1),y={class:"InOutBox"},x=a(" 输入： "),_=l("textarea",{id:"msgInput",class:"InBox"},'{"jsonrpc":"2.0","method":"getVersion","params":[""],"id":199,"service":"service-global"}',-1),S=l("br",null,null,-1),k=l("div",null,"输出",-1),A=l("br",null,null,-1),w=l("div",{id:"msgOutput",class:"OutBox"},"output..",-1),I=l("div",null,[a(" 支持3端：pc,ios,android; "),l("br"),a('操作：点击"启动"->点击"service-global.getVersion" '),l("br"),a("cg_*** 扩展服务API; "),l("br"),a("sg_*** 底层硬件API. ")],-1);var B=f(p,[["render",function(t,n,e,o,i,a){return r(),s(c,null,[h,v,l("div",b,[l("button",{onClick:n[0]||(n[0]=function(){return a.start&&a.start.apply(a,arguments)})},"链接服务"),l("button",{onClick:n[1]||(n[1]=function(){return a.close&&a.close.apply(a,arguments)})},"停止服务"),l("button",{onClick:n[2]||(n[2]=function(){return a.refresh&&a.refresh.apply(a,arguments)})},"刷新服务"),l("button",{onClick:n[3]||(n[3]=function(){return a.cg_getVersion&&a.cg_getVersion.apply(a,arguments)})},"cg.getVersion"),l("button",{onClick:n[4]||(n[4]=function(){return a.cg_init&&a.cg_init.apply(a,arguments)})},"cg.init"),l("button",{onClick:n[5]||(n[5]=function(){return a.sg_getVersion&&a.sg_getVersion.apply(a,arguments)})},"sg.getVersion"),l("button",{onClick:n[6]||(n[6]=function(){return a.sg_init&&a.sg_init.apply(a,arguments)})},"sg.init"),l("button",{onClick:n[7]||(n[7]=function(){return a.sg_askAndAnswer&&a.sg_askAndAnswer.apply(a,arguments)})},"sg.askAndAnswer"),l("button",{onClick:n[8]||(n[8]=function(){return a.sg_listen&&a.sg_listen.apply(a,arguments)})},"sg.listen"),l("button",{onClick:n[9]||(n[9]=function(){return a.sg_close&&a.sg_close.apply(a,arguments)})},"sg.close"),l("button",{onClick:n[10]||(n[10]=function(){return a.dis_getNetList&&a.dis_getNetList.apply(a,arguments)})},"dis.getNetList"),l("button",{onClick:n[11]||(n[11]=function(){return a.dis_getMacAddress&&a.dis_getMacAddress.apply(a,arguments)})},"dis.getMacAddress"),l("button",{onClick:n[12]||(n[12]=function(){return a.clear&&a.clear.apply(a,arguments)})},"清空日志")]),m,l("div",y,[l("div",null,[x,l("button",{id:"tsSend",onClick:n[13]||(n[13]=function(){return a.sendButton&&a.sendButton.apply(a,arguments)})},"发送")]),_,S,k,A,w,I])],64)}]]);d(f({name:"App",components:{LinkClient:B},setup:function(){}},[["render",function(t,n,e,o,i,s){var l=u("LinkClient");return r(),g(l,{msg:"link-client"})}]])).mount("#app")}}}))}();
