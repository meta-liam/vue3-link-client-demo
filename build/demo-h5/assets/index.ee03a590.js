import{L as a,o as u,a as d,c as v,b as i,F as _,d as c,r as f,e as m,f as h}from"./vendor.e23df700.js";function j(){import("data:text/javascript,")}const p=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function o(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerpolicy&&(s.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?s.credentials="include":l.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=o(l);fetch(l.href,s)}};p();var g=(t,e)=>{const o=t.__vccOpts||t;for(const[r,l]of e)o[r]=l;return o};const b={name:"Link-Client",props:{msg:String},data(){return{count:10}},methods:{clear(){document.getElementById("msgOutput").innerHTML=""},showLog(t){typeof t=="object"&&(t=JSON.stringify(t));let e=new Date;t="["+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"] "+t,console.log("log:",t);let r=document.getElementById("msgOutput");r.innerHTML=t+"<br>"+r.innerHTML},callBack(t){typeof t=="object"?this.showLog("[cb]"+JSON.stringify(t)):this.showLog("[cb]"+t)},_handle(t){typeof t=="object"?this.showLog("[back]"+JSON.stringify(t)):this.showLog("[back]"+t)},_handleSend(t){typeof t=="object"?this.showLog("[sendH]"+JSON.stringify(t)):this.showLog("[sendH]"+t)},start(t){console.log("start",t);let e=document.getElementById("inIP").value,o=parseInt(document.getElementById("inPort").value);this.client.init(e,o),this.client.setHandle(this._handle),this.client.channel.handleSend=this._handleSend,this.showLog("----start----")},close(t){console.log("close",t),this.client&&this.client.close()},refresh(){this.client&&(this.client.refresh(),this.client.setHandle(this._handle),this.client.channel.handleSend=this._handleSend)},cg_getVersion(){let t=this.client.getExtension("client-global");console.log("sv.version::",t.getVersion())},cg_init(){let e=this.client.getExtension("client-global").init("");console.log("sv.version::",e)},sg_getVersion(){let t=this.client.getService("service-global");console.log("sv.version::",t.getVersion())},sg_init(){let e=this.client.getService("service-global").init("");console.log("sv.version::",e)},sg_askAndAnswer(){let e=this.client.getService("service-global").askAndAnswer("liam",this.callBack);console.log("sv.askAndAnswer::",e)},sg_listen(){let e=this.client.getService("service-global").listen(this.callBack,3,10);console.log("sv.askAndAnswer::",e)},sg_close(){let e=this.client.getService("service-global").close();console.log("sv.close::",e)},dis_getMacAddress(){this.client.getService("discovery").getMacAddress()},dis_getNetList(){this.client.getService("discovery").getNetList()},sendButton(){var t=document.getElementById("msgInput").value;this.sendData(JSON.parse(t))},sendData(t){let e=t,o=this.client.channel.send(e.method,e.params,e.service,e.id);console.log("result::",o)}},setup(){console.log("-------------------------setup:");const t="hello aa!";let e=new a(!1);const o={};let r=document.getElementById("msgInput"),l=document.getElementById("msgOutput");return u(()=>{console.log("run:onMounted link-client")}),{message:t,client:e,db:o,inputMsg:r,outMsg:l}}},k=i("h1",null,"link-client-test-demo",-1),y=i("div",{class:"envBox"},null,-1),L={class:"buttonBox"},A=i("div",{class:"pcConfig"},[c(" \u5E73\u53F0: "),i("input",{id:"inPlatform",value:"auto"}),c(" pcIp: "),i("input",{id:"inIP",value:"localhost"}),c(" port: "),i("input",{id:"inPort",value:"52384"})],-1),B={class:"InOutBox"},C=c(" \u8F93\u5165\uFF1A "),S=i("textarea",{id:"msgInput",class:"InBox"},'{"jsonrpc":"2.0","method":"getVersion","params":[""],"id":199,"service":"service-global"}',-1),w=i("br",null,null,-1),I=i("div",null,"\u8F93\u51FA",-1),O=i("br",null,null,-1),x=i("div",{id:"msgOutput",class:"OutBox"},"output..",-1),M=i("div",null,[c(" \u652F\u63013\u7AEF\uFF1Apc,ios,android; "),i("br"),c('\u64CD\u4F5C\uFF1A\u70B9\u51FB"\u542F\u52A8"->\u70B9\u51FB"service-global.getVersion" '),i("br"),c("cg_*** \u6269\u5C55\u670D\u52A1API; "),i("br"),c("sg_*** \u5E95\u5C42\u786C\u4EF6API. ")],-1);function N(t,e,o,r,l,s){return d(),v(_,null,[k,y,i("div",L,[i("button",{onClick:e[0]||(e[0]=(...n)=>s.start&&s.start(...n))},"\u94FE\u63A5\u670D\u52A1"),i("button",{onClick:e[1]||(e[1]=(...n)=>s.close&&s.close(...n))},"\u505C\u6B62\u670D\u52A1"),i("button",{onClick:e[2]||(e[2]=(...n)=>s.refresh&&s.refresh(...n))},"\u5237\u65B0\u670D\u52A1"),i("button",{onClick:e[3]||(e[3]=(...n)=>s.cg_getVersion&&s.cg_getVersion(...n))},"cg.getVersion"),i("button",{onClick:e[4]||(e[4]=(...n)=>s.cg_init&&s.cg_init(...n))},"cg.init"),i("button",{onClick:e[5]||(e[5]=(...n)=>s.sg_getVersion&&s.sg_getVersion(...n))},"sg.getVersion"),i("button",{onClick:e[6]||(e[6]=(...n)=>s.sg_init&&s.sg_init(...n))},"sg.init"),i("button",{onClick:e[7]||(e[7]=(...n)=>s.sg_askAndAnswer&&s.sg_askAndAnswer(...n))},"sg.askAndAnswer"),i("button",{onClick:e[8]||(e[8]=(...n)=>s.sg_listen&&s.sg_listen(...n))},"sg.listen"),i("button",{onClick:e[9]||(e[9]=(...n)=>s.sg_close&&s.sg_close(...n))},"sg.close"),i("button",{onClick:e[10]||(e[10]=(...n)=>s.dis_getNetList&&s.dis_getNetList(...n))},"dis.getNetList"),i("button",{onClick:e[11]||(e[11]=(...n)=>s.dis_getMacAddress&&s.dis_getMacAddress(...n))},"dis.getMacAddress"),i("button",{onClick:e[12]||(e[12]=(...n)=>s.clear&&s.clear(...n))},"\u6E05\u7A7A\u65E5\u5FD7")]),A,i("div",B,[i("div",null,[C,i("button",{id:"tsSend",onClick:e[13]||(e[13]=(...n)=>s.sendButton&&s.sendButton(...n))},"\u53D1\u9001")]),S,w,I,O,x,M])],64)}var V=g(b,[["render",N]]);const E={name:"App",components:{LinkClient:V},setup(){}};function P(t,e,o,r,l,s){const n=f("LinkClient");return d(),m(n,{msg:"link-client"})}var H=g(E,[["render",P]]);h(H).mount("#app");export{j as __vite_legacy_guard};
